# Constraints and Compliance

## Overview

This document defines the constraints and compliance requirements that must be considered when creating and executing planograms in retail stores.

## Constraint Categories

### 1. Physical Constraints

**Purpose**: Ensure products fit physically and safely in store layout.

#### Store-Level Constraints

**Ceiling Height:**
- Maximum gondola height
- Product stacking limits
- Safety clearances

**Aisle Width:**
- Minimum aisle width for customer traffic
- Fire code requirements
- Accessibility requirements

**Floor Space:**
- Available floor space
- Gondola placement constraints
- Traffic flow requirements

**Example**: Store with 10-foot ceiling → Maximum gondola height 84 inches.

#### Gondola Constraints

**Height:**
- Maximum gondola height
- Varies by store ceiling height
- Safety considerations

**Weight Capacity:**
- Maximum weight per gondola
- Structural limitations
- Safety requirements

**Width:**
- Standard gondola widths (typically 4 feet)
- Space constraints
- Aisle width considerations

**Example**: Standard gondola: 84" height, 48" width, 5000 lbs capacity.

#### Shelf Constraints

**Height from Floor:**
- Shelf height measurements
- Customer reach limits
- Safety considerations

**Depth:**
- Shelf depth (typically 18-24 inches)
- Product depth limits
- Safety (no overhanging)

**Weight Capacity:**
- Maximum weight per shelf
- Varies by shelf level
- Safety requirement

**Example**: Shelf 3 (eye level): 60" from floor, 18" depth, 500 lbs capacity.

#### Product Constraints

**Product Size:**
- Product dimensions (height, width, depth)
- Must fit within shelf dimensions
- No overhanging

**Product Weight:**
- Product weight
- Must not exceed shelf capacity
- Safety consideration

**Product Shape:**
- Irregular shapes
- Special handling requirements
- Placement considerations

**Example**: 2L bottle: 12" height, 4" width, 4" depth, 4.4 lbs weight.

### 2. Business Constraints

**Purpose**: Ensure planograms meet business objectives and rules.

#### Category Constraints

**Category Placement:**
- Categories have preferred locations
- Category flow requirements
- Category adjacency rules

**Category Size:**
- Minimum/maximum space per category
- Category importance
- Sales-based allocation

**Category Rules:**
- Category-specific placement rules
- Category management requirements
- Brand agreements

**Example**: Beverages category → Aisle 5, minimum 20 linear feet.

#### Brand Constraints

**Brand Agreements:**
- Contractual brand placement requirements
- Minimum facings
- Preferred locations
- Exclusivity requirements

**Brand Blocking:**
- Brand grouping requirements
- Brand visibility
- Brand positioning

**Brand Guidelines:**
- Brand-specific visual requirements
- Promotional requirements
- Compliance requirements

**Example**: Premium brand → Minimum 3 facings, eye level, exclusive placement.

#### Product Constraints

**Product Relationships:**
- Complementary products adjacent
- Competing products separated
- Product families grouped

**Product Rotation:**
- High-rotation products premium placement
- Low-rotation products optimized placement
- Rotation-based rules

**Product Lifecycle:**
- New products placement
- Discontinued products removal
- Seasonal products

**Example**: New product launch → Eye level, extra facings, promotional placement.

### 3. Regulatory Constraints

**Purpose**: Ensure compliance with laws and regulations.

#### Age-Restricted Products

**Alcohol:**
- Placement restrictions
- Not at eye level (typically)
- Not near entrance
- Age verification requirements

**Tobacco:**
- Placement restrictions
- Behind counter (in some jurisdictions)
- Age verification
- Regulatory compliance

**Example**: Alcohol products → Lower shelves (shelf 1-2), not near entrance.

#### Safety Regulations

**Product Safety:**
- Heavy products on lower shelves
- No overhanging products
- Secure placement
- Safety clearances

**Fire Code:**
- Aisle width requirements
- Exit accessibility
- Fire safety clearances

**Accessibility:**
- ADA compliance
- Reachable heights
- Accessible aisles

**Example**: Heavy products (>10 lbs) → Shelf 1-2 only, safety requirement.

#### Food Safety

**Temperature Requirements:**
- Refrigerated products
- Frozen products
- Temperature-controlled placement

**Contamination Prevention:**
- Product separation
- Cross-contamination prevention
- Food safety regulations

**Example**: Raw meat → Separate from ready-to-eat products, food safety requirement.

### 4. Store-Specific Constraints

**Purpose**: Handle store-specific characteristics and limitations.

#### Store Size

**Small Stores:**
- Limited space
- Condensed layouts
- Fewer products
- Space optimization critical

**Large Stores:**
- More space
- Expanded layouts
- More products
- Category expansion possible

**Example**: Small store (20,000 sq ft) → Condensed planogram, fewer SKUs.

#### Store Format

**Supermarket:**
- Standard layout
- Full category selection
- Standard rules apply

**Hypermarket:**
- Larger format
- Expanded categories
- More space per category

**Convenience Store:**
- Compact layout
- Limited selection
- Different rules

**Example**: Convenience store → Compact planogram, high-rotation focus.

#### Regional Variations

**Local Preferences:**
- Regional brand preferences
- Local product requirements
- Cultural considerations

**Regional Regulations:**
- Local regulations
- Regional compliance
- Jurisdiction-specific rules

**Example**: Regional preference for local brands → Adjust planogram accordingly.

## Compliance Requirements

### 1. Brand Compliance

**Requirements:**
- Brand placement guidelines
- Minimum facings
- Preferred locations
- Visual requirements

**Validation:**
- Automated compliance checking
- Brand guideline validation
- Exception tracking
- Compliance reporting

**Example**: Brand requires minimum 3 facings at eye level → Validate compliance.

### 2. Regulatory Compliance

**Requirements:**
- Age-restricted product placement
- Safety regulations
- Food safety requirements
- Accessibility compliance

**Validation:**
- Regulatory rule checking
- Compliance validation
- Exception handling
- Compliance reporting

**Example**: Alcohol placement → Validate not at eye level, not near entrance.

### 3. Category Compliance

**Requirements:**
- Category placement rules
- Category flow requirements
- Category size requirements
- Category management rules

**Validation:**
- Category rule checking
- Category compliance validation
- Exception tracking
- Compliance reporting

**Example**: Category flow → Validate related categories adjacent.

### 4. Store Compliance

**Requirements:**
- Store-specific constraints
- Store format rules
- Regional variations
- Local requirements

**Validation:**
- Store constraint checking
- Store compliance validation
- Exception handling
- Compliance reporting

**Example**: Store size constraint → Validate planogram fits store.

## Constraint Validation

### Validation Process

1. **Load Constraints**: Load all applicable constraints
2. **Check Constraints**: Validate planogram against constraints
3. **Identify Violations**: Find constraint violations
4. **Report Violations**: Generate violation report
5. **Handle Exceptions**: Process exceptions if needed
6. **Approve/Reject**: Approve if compliant, reject if not

### Validation Rules

**Priority Levels:**
- **CRITICAL**: Must comply (safety, regulatory)
- **HIGH**: Should comply (brand agreements)
- **MEDIUM**: Preferred (business rules)
- **LOW**: Nice to have (optimization)

**Conflict Resolution:**
- Higher priority overrides lower priority
- Exceptions require approval
- Documented and tracked

### Exception Handling

**Exception Types:**
- **Regulatory**: Regulatory requirements override
- **Business**: Business reasons for exception
- **Technical**: Technical constraints prevent compliance

**Exception Process:**
1. Identify exception need
2. Document reason
3. Request approval
4. Approve/reject
5. Track exception

## Compliance Reporting

### Compliance Metrics

**Brand Compliance:**
- % compliance with brand guidelines
- Brand placement accuracy
- Brand visibility metrics

**Regulatory Compliance:**
- % compliance with regulations
- Regulatory violation count
- Compliance trend

**Category Compliance:**
- % compliance with category rules
- Category placement accuracy
- Category flow compliance

**Store Compliance:**
- % compliance with store constraints
- Store-specific compliance
- Regional compliance

### Compliance Reports

**Report Contents:**
- Overall compliance score
- Compliance by category
- Violations and exceptions
- Recommendations

**Report Distribution:**
- Operations team
- Merchandising team
- Compliance team
- Store managers

## Best Practices

1. **Comprehensive Constraints**: Define all constraints
2. **Automated Validation**: Automate constraint checking
3. **Exception Management**: Systematic exception handling
4. **Compliance Monitoring**: Monitor compliance continuously
5. **Regular Reviews**: Regular compliance reviews
6. **Documentation**: Document all constraints and exceptions

## Next Steps

- Review `docs/07-operations-and-auditing.md` for operational execution
- Check `examples/compliance-check-example.md` for compliance examples
- Study `docs/05-product-placement-rules.md` for placement rules
